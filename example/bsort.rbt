''' ------------------------------------------------------------------
	バブルソート - Wikipedia
	http://ja.wikipedia.org/wiki/%E3%83%90%E3%83%96%E3%83%AB%E3%82%BD%E3%83%BC%E3%83%88
---------------------------------------------------------------------- '''

def swap!( arr, i, ii )
	$swap_count += 1
	temp = arr[i]
	arr[i]  = arr[ii]
	arr[ii] = temp
	return false
end

def bsort( arr )
	while 1 do
		swap_flg = false
		i = 0
		while i < arr.len - 1 do
			if arr[i] > arr[i+1] then
				swap!( arr, i, i+1 )
				swap_flg = true
			end
			i += 1
		end
		if swap_flg == false then
			break
		end
	end
	return arr
end

arr = [ 706,2805,9945,1411,3560,5230,2325,5579,8043,2776,1947,5271,2571,8024,8267,
	7562,271,451,6297,8767,5205,3995,5599,1798,9134,7055,7897,4261,3910,2202,3327,
	1051,5941,881,404,7988,1814,1168,7486,9905,3674,643,8056,6178,603,8202,121,4178,
	7633,7408,2102,349,7504,4120,6888,5162,5452,4757,9634,1226,3705,714,7925,9138,
	7565,4196,9125,7824,7509,855,5144,1177,3451,3002,130,719,5610,1429,9271,1034,
	7311,4677,4202,6222,4940,7432,1622,8129,9243,7949,342,1266,5758,1512,8864,2047,
	4406,8892,1065,7161,3848,6991,3826,4771,3226,2135,4512,4067,6022,3980,1798,961,
	222,1358,3945,7031,8469,7593,9701,2976,7724,6328,8438,8718,1911,4438,5005,8061,
	3416,3564,7613,3625,1040,8604,2345,6134,7451,404,8848,3452,8216,1165,8399,7967,
	5666,7704,7562,3593,3063,7855,9811,5176,353,4707,9891,6227,238,8031,4643,5430,
	8987,734,2367,6389,7402,4295,5210,8528,4324,2214,5028,3567,4225,6201,8995,1629,
	6364,373,2827,2864,1096,3380,4785,4763,7823,4379,5171,6583,3160,3120,3179,1014,
	9963,7128,4929,9191,1272,4899,4182,9264,4877,6009,6383,6079,6517,9758,9717,1227,
	3690,8971,6227,9254,9041,5489,5590,8669,7498,7001,2947,1159,5139,9570,5678,1146,
	9341,7736,7698,1204,8752,554,952,9397,1012,1318,4146,8250,4847,5172,7280,4590,
	8104,8879,5638,6302,2500,2809,8951,9040,302,6036,5551,9952,4936,1197,9303,9719,
	1680,8659,683,757,2261,7191,5954,1909,7488,5827,8162,5643,173,4309,5737,6678,9770,
	5376,3511,3692,4542,4347,3613,2529,4041,720,1196,8222,7440,3850,638,8510,3192,3748,
	9311,6910,4921,7437,8321,3365,2840,7497,6865,3945,651 ]

#arr = [8,4,3,7,6,5,2,1,]

$swap_count = 0
print( arr, "\n" )
print( "** bubble sort **\n" )
print( bsort( arr ), "\n" )
print( "swap count .. ", $swap_count, "\n" )

#print( arr, "\n" ) #=> [8,4,3,7,6,5,2,1,]
#print( "** bubble sort **\n" )
#print( bsort( arr ), "\n" ) #=> [1,2,3,4,5,6,7,8,]
#print( "swap count .. ", $swap_count, "\n" )

